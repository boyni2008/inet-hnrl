#
# Copyright (C) 2012 Kyeong Soo (Joseph) Kim. All rights reserved.
#
# This ini file is for the study of channel-selecton deficit round-robin
# (CDRR) scheduling algorithms in hybrid TDM/WDM networks with tunable
# transceivers.
#
# Note that [General] section, i.e., configurations common to all
# architectures including those of traffic models, is provided by
# "CommonSettings.ini".
#
# References
#


### [General] section providing configurations common to all network architectures
include General.ini


[Config HybridPonBase]
########################################################################
### Architecture-Specific Settings
########################################################################
network = inet.examples.multichannel_scheduling.cdrr.Cdrr
result-dir = results

########################################################################
### NIC (of ONUs, OLT)
########################################################################
#**.mac[*].queueType = "DropTailQueue" # in Ethernet switches
#**.mac[*].queueType = "REDQueue" # in routers (for better fairness among sessions)
#**.mac[*].queue[*].frameCapacity = 1000 # in frames
#**.onu[*].mac[*].txQueueLimit = 20000 # in frames (default is 1000)
#**.olt.mac[*].txQueueLimit = 20000 # in frames (default is 1000)

#################################
# Hybird PON settings
#################################
#**.numTransmitters = 2  # number of OLT transmitters (tx)
#**.numReceivers = 1  # number of OLT receivers (rx)
#**.onuTimeout = ${ot=10}ms  # ONU timeout (ot) (default is 1 ms)

[Config test]
extends = HybridPonBase
sim-time-limit = 1min
warmup-period = 1s  # depends on 'startTime' of applications and video trace duration (~10 min. for Terminator 2)
repeat = 1
result-dir = results/test 
*.N = ${N=20}  # number of ONUs
*.n = 1	# number of hosts per ONU
**.numTransmitters = ${tx=2}  # number of OLT transmitters (tx)
### specific settings
**.host[0].cli.waitTime = exponential(1ms)
#**.host[0].cli.respLength = intuniform(43B, 1497B)	# payload size between 43 and 1497 (due to 3-octet LLC header)
### general settings
**.host[*].cli.waitTime = exponential(10ms)
**.host[*].cli.respLength = intuniform(43, 1497)*1B	# payload size between 43 and 1497 (due to 3-octet LLC header)
**.quantum = ${qt=500, 1000}B

[Config N16_dr10_tx2_br1000_rtt10]
extends = HybridPonBase
*.N = ${N=16}  # number of ONUs
*.n = ${n=1..5}  # number of hosts per ONU
#*.distribution_rate = ${dr=10}Gbps  # rate of distribution fiber
#*.feeder_rate = ${dr}Gbps  # rate of feeder fiber
**.numTransmitters = ${tx=2}  # number of OLT transmitters (tx)
**.numReceivers = ${tx}  # number of OLT receivers (rx)
#*.backbone_rate = ${br=1000}Gbps  # rate of backbone link
#*.backbone_delay = ${bd=4.7}ms  # delay in backbone network (total RTT = 10 ms)

[Config N16_dr10_br1000_rtt10]
extends = HybridPonBase
*.N = ${N=16}  # number of ONUs
*.n = ${n=1..10}  # number of hosts per ONU
#*.distribution_rate = ${dr=10}Gbps  # rate of distribution fiber
**.numTransmitters = ${tx=1..5}  # number of transmitters (tx)
**.numReceivers = ${tx}  # number of receivers (rx)
#*.backbone_rate = ${br=1000}Gbps  # rate of backbone link
#*.backbone_delay = ${bd=4.7}ms  # delay in backbone network (total RTT = 10 ms)
